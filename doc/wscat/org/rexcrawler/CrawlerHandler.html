<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_67) on Tue Mar 17 01:55:47 EDT 2015 -->
<title>CrawlerHandler</title>
<meta name="date" content="2015-03-17">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="CrawlerHandler";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../org/rexcrawler/Crawler.html" title="class in org.rexcrawler"><span class="strong">Prev Class</span></a></li>
<li><a href="../../org/rexcrawler/Page.html" title="class in org.rexcrawler"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?org/rexcrawler/CrawlerHandler.html" target="_top">Frames</a></li>
<li><a href="CrawlerHandler.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.rexcrawler</div>
<h2 title="Class CrawlerHandler" class="title">Class CrawlerHandler</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.rexcrawler.CrawlerHandler</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.lang.Cloneable</dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../org/rexcrawler/handler/RexHandler.html" title="class in org.rexcrawler.handler">RexHandler</a>, <a href="../../soen487/wscat/parser/WSDLParser.html" title="class in soen487.wscat.parser">WSDLParser</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="strong">CrawlerHandler</span>
extends java.lang.Object
implements java.lang.Cloneable</pre>
<div class="block">The handler is used by the crawler to operate on the
 retrieved document.
 Be aware this class implements the prototype pattern
 needed for the forking. @see clone()
 
 <em>
 All Collection not annotated with @Reduced will not
 be merge at the end of the search.
 </em></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.util.concurrent.atomic.AtomicBoolean</code></td>
<td class="colLast"><code><strong><a href="../../org/rexcrawler/CrawlerHandler.html#abort">abort</a></strong></code>
<div class="block">Shared flag
 
 This shared object is used to signaling the abortion of the
 current search.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../org/rexcrawler/CrawlerHandler.html#CrawlerHandler()">CrawlerHandler</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.util.List&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><strong><a href="../../org/rexcrawler/CrawlerHandler.html#childOnly(java.net.URL,%20java.util.List)">childOnly</a></strong>(java.net.URL&nbsp;domain,
         java.util.List&lt;java.lang.String&gt;&nbsp;links)</code>
<div class="block">Remove all link that are not
 descendent of the current URL retrieved.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.lang.Object</code></td>
<td class="colLast"><code><strong><a href="../../org/rexcrawler/CrawlerHandler.html#clone()">clone</a></strong>()</code>
<div class="block">Prototype constructor
 
 This method should be redefined if 
 additional field are added for reducing.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.List&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><strong><a href="../../org/rexcrawler/CrawlerHandler.html#filterLinks(org.rexcrawler.Page,%20java.util.List)">filterLinks</a></strong>(<a href="../../org/rexcrawler/Page.html" title="class in org.rexcrawler">Page</a>&nbsp;page,
           java.util.List&lt;java.lang.String&gt;&nbsp;links)</code>
<div class="block">Remove all unwanted links.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.net.HttpURLConnection</code></td>
<td class="colLast"><code><strong><a href="../../org/rexcrawler/CrawlerHandler.html#makeConnection(java.lang.String)">makeConnection</a></strong>(java.lang.String&nbsp;url)</code>
<div class="block">Perform a simple HTTP request to the target.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.util.List&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><strong><a href="../../org/rexcrawler/CrawlerHandler.html#parse(java.util.List)">parse</a></strong>(java.util.List&lt;java.lang.String&gt;&nbsp;urls)</code>
<div class="block">This method contains the whole routine for the parser.<br/>
 
 <code>urls</code> is the list of URL to parse, this list
 is 1 <= urls.length() <= chunkSize.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>abstract boolean</code></td>
<td class="colLast"><code><strong><a href="../../org/rexcrawler/CrawlerHandler.html#parsePage(org.rexcrawler.Page)">parsePage</a></strong>(<a href="../../org/rexcrawler/Page.html" title="class in org.rexcrawler">Page</a>&nbsp;page)</code>
<div class="block">Parsing function</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../org/rexcrawler/CrawlerHandler.html#reduce(org.rexcrawler.CrawlerHandler)">reduce</a></strong>(<a href="../../org/rexcrawler/CrawlerHandler.html" title="class in org.rexcrawler">CrawlerHandler</a>&nbsp;other)</code>
<div class="block">Merge the shared collections.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="abort">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>abort</h4>
<pre>protected&nbsp;java.util.concurrent.atomic.AtomicBoolean abort</pre>
<div class="block">Shared flag
 
 This shared object is used to signaling the abortion of the
 current search.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="CrawlerHandler()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CrawlerHandler</h4>
<pre>public&nbsp;CrawlerHandler()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="clone()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clone</h4>
<pre>protected&nbsp;java.lang.Object&nbsp;clone()
                          throws java.lang.CloneNotSupportedException</pre>
<div class="block">Prototype constructor
 
 This method should be redefined if 
 additional field are added for reducing.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code>clone</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.CloneNotSupportedException</code></dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../org/rexcrawler/CrawlerHandler.html#reduce(org.rexcrawler.CrawlerHandler)"><code>reduce(CrawlerHandler)</code></a></dd></dl>
</li>
</ul>
<a name="makeConnection(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>makeConnection</h4>
<pre>protected&nbsp;java.net.HttpURLConnection&nbsp;makeConnection(java.lang.String&nbsp;url)
                                             throws java.net.MalformedURLException,
                                                    java.io.IOException</pre>
<div class="block">Perform a simple HTTP request to the target.
 If your target required a more elaborated connection (password, redirection)
 override this method.
 
 <em>This method is provided as convenience</em></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>url</code> - target location</dd>
<dt><span class="strong">Returns:</span></dt><dd>connection to the URL target</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.net.MalformedURLException</code> - the URL is wrong</dd>
<dd><code>java.io.IOException</code> - Cannot open a connection</dd></dl>
</li>
</ul>
<a name="parse(java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>parse</h4>
<pre>protected&nbsp;java.util.List&lt;java.lang.String&gt;&nbsp;parse(java.util.List&lt;java.lang.String&gt;&nbsp;urls)</pre>
<div class="block">This method contains the whole routine for the parser.<br/>
 
 <code>urls</code> is the list of URL to parse, this list
 is 1 <= urls.length() <= chunkSize.
 The returned list will become the list of URL to parse, if
 this list exceed <code>chunkSize</code> elements only the first <code>chunkSize</code>
 element will be returned to this thread and the remaining URLs will
 be delagated to another thread. Returning null will be 
 interpreted as an abort signal.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>urls</code> - list to parse</dd>
<dt><span class="strong">Returns:</span></dt><dd>the url list to be parsed or null to abort.</dd></dl>
</li>
</ul>
<a name="parsePage(org.rexcrawler.Page)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>parsePage</h4>
<pre>public abstract&nbsp;boolean&nbsp;parsePage(<a href="../../org/rexcrawler/Page.html" title="class in org.rexcrawler">Page</a>&nbsp;page)
                           throws java.io.IOException</pre>
<div class="block">Parsing function</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>page</code> - current page retrieved</dd>
<dt><span class="strong">Returns:</span></dt><dd>false will abort the current search, true to continue</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="filterLinks(org.rexcrawler.Page, java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>filterLinks</h4>
<pre>public&nbsp;java.util.List&lt;java.lang.String&gt;&nbsp;filterLinks(<a href="../../org/rexcrawler/Page.html" title="class in org.rexcrawler">Page</a>&nbsp;page,
                                           java.util.List&lt;java.lang.String&gt;&nbsp;links)</pre>
<div class="block">Remove all unwanted links. The returned list from this 
 method will be used to propagate the current search. It
 is useful to remove links that may be considered as noise
 for instance .css or .js file. But that's depend on the purpose of
 the search. By default this method remove all link that are not
 descendent of the current URL retrieved.
 
 It is possible to insert new URL too, which is common for paging
 as in:
 <div>
 http://www.example.org?page=1
 </div>
 
 <em>This method is provided as convenience</em></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>page</code> - current page retrieved</dd><dd><code>links</code> - all hyperlinks from this page</dd>
<dt><span class="strong">Returns:</span></dt><dd>list of accepted links</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../org/rexcrawler/CrawlerHandler.html#childOnly(java.net.URL,%20java.util.List)"><code>childOnly(URL, List)</code></a></dd></dl>
</li>
</ul>
<a name="childOnly(java.net.URL, java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>childOnly</h4>
<pre>protected&nbsp;java.util.List&lt;java.lang.String&gt;&nbsp;childOnly(java.net.URL&nbsp;domain,
                                         java.util.List&lt;java.lang.String&gt;&nbsp;links)</pre>
<div class="block">Remove all link that are not
 descendent of the current URL retrieved.
 <div>
 For instance, assuming the current page is 
 http://www.example.org/a/b/?hello="world"<br/>
 http://www.example.org/a/b/c/d/e is a valid descendent<br/>
 http://www.example.org/a/b/ is invalid
 </div>
 
 <em>This method is provided as convenience</em></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>domain</code> - the current URL</dd><dd><code>links</code> - list of links</dd>
<dt><span class="strong">Returns:</span></dt><dd>list of links passing the constraint</dd></dl>
</li>
</ul>
<a name="reduce(org.rexcrawler.CrawlerHandler)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>reduce</h4>
<pre>protected&nbsp;void&nbsp;reduce(<a href="../../org/rexcrawler/CrawlerHandler.html" title="class in org.rexcrawler">CrawlerHandler</a>&nbsp;other)
               throws java.lang.IllegalAccessException,
                      java.lang.IllegalArgumentException,
                      java.lang.reflect.InvocationTargetException</pre>
<div class="block">Merge the shared collections.
 
 <code>other.class</code> must match <code>this.class</code> 
 so they have the same Field objects. 
 This should be guarantee by the prototype pattern.
 
 Since only Collections annotated with @Reduced are automatically reduced
 this method allows you to collect other fields. 
 <strong>
 Internally only the calling object's containers are retained, therefore
 the calling object should include the other's containers.
 </strong></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>other</code> - crawlerHandler to include</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.IllegalAccessException</code></dd>
<dd><code>java.lang.IllegalArgumentException</code></dd>
<dd><code>java.lang.reflect.InvocationTargetException</code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../org/rexcrawler/Crawler.html" title="class in org.rexcrawler"><span class="strong">Prev Class</span></a></li>
<li><a href="../../org/rexcrawler/Page.html" title="class in org.rexcrawler"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?org/rexcrawler/CrawlerHandler.html" target="_top">Frames</a></li>
<li><a href="CrawlerHandler.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
